<div *ngIf="token"
(click)="closeDropdown(dropdown);collapse();" >

<div class="tab" style="margin-left: 20pt;" > 
<h1 class="text-blue-500 font-bold  py-1">Dashboard Agent de Saisie</h1>
<div class="flex mb-2" *ngIf="token"> 
     <!-- Picture Profile -->
<div>
    <img 
      class="  rounded-full w-8 h-8 " style="margin-left: 10px; "
      [src]="data.user.picture" alt="userimage"
      alt=""
    />
</div>
<p class="text-gray-500 font-medium px-2 py-1 ">Bienvenue</p><p class="text-blue-500 font-medium px-2 py-1 ">{{ data.user.name }}</p>

</div>
<!-- search bar --> 

<p-table #tablesearch [value]="productsPrime"[globalFilterFields]="['name']"
 [paginator]="true" [rows]="9" pagelinks="10">
    
    <ng-template pTemplate="caption" >
        <div class="p-d-flex ">
        <div class="flex space-x-4"><img src="../../assets/clipboard.svg" id="folderImg">
            <h4 style="margin-top: 3px; font-weight: 700;" >Dossiers</h4>
        </div>

            <!-- <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(tablesearch)"></button> -->
            <div style="margin-top: 7px;">
            <span class="p-input-icon-left p-ml-auto">
                <i class="pi pi-search fa-fw" style="color: white;"></i>
                <input pInputText type="text"
                 (input)="tablesearch.filterGlobal($event.target.value, 'contains')" placeholder="Recherche"
                  id="search-box" onclick="this.placeholder = ''"
                  onblur="this.placeholder = 'Recherche'"/>
            </span>
            </div>
        </div>
    </ng-template> 

    
    <ng-template pTemplate="header">
        <tr>
            <th style="color: #3184FC;
            ">Nom </th>
            <th style="color: #3184FC;
            ">Companie d'assurance</th>
            <th style="color: #3184FC;
            ">Date du sinistre </th>
            <th  style="color: #3184FC;
            ">Num du dossier</th>
            <!-- <th pSortableColumn="etat_dossier" style="color: #3184FC;
            " >Etat du dossier <p-sortIcon field="etat_dossier"></p-sortIcon></th> -->
            <th  style="color: #3184FC;
            ">Etat du dossier</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-productsPrime >
        <tr (click)="sharedService.onPress()" class="tableRow">
            <td><p-avatar image="assets/user.png" shape="circle" id="client-img">
            </p-avatar>{{productsPrime.name}}</td>
            <td>{{productsPrime.companie}}</td>
            <td>{{productsPrime.date_sin}}</td>
            <td>{{productsPrime.num_dossier}}</td>
            <td>{{productsPrime.etat_dossier}}</td>
<td><img src="../../assets/Icon Button.svg" class="Phoneimg" ></td>
        </tr>
    </ng-template>
</p-table>
</div>
<div style="margin-top: 60px;">
<app-side-list (clickeDateAsc) ="filterAsc($event)"   (clickDateDes) ="filterDes($event)" 
 (clickEtatDes)="filterEtaDes($event)" (clickfilterCompany)="filterChangeCompany($event)"
 (clickEtatAsc)="filterEtaAsc($event)" (clickfilter)="filterChange($event)" style="margin-top: 50px;">

</app-side-list>
</div>
<div style="margin-top: 1rem;"><app-table-item></app-table-item></div>

</div>